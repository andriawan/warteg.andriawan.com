<main>
  <mat-grid-list cols="1" rowHeight="100vh">
    @if( isLoading ){
      <div style="margin-top:3px;">
        <mat-progress-bar mode="indeterminate" color="warn"></mat-progress-bar>
      </div>
    }
    
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <mat-card class="col-4">
        <mat-card-header>
          <mat-card-title>Please Login</mat-card-title>
          <mat-card-subtitle>
            <p>before using <a href="/" routerLink="/" >warteg apps</a></p>
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <form [formGroup]="form" (ngSubmit)="onLogin()" class="d-flex flex-column"  fxLayout="column">
            <mat-form-field appearance="fill" [floatLabel]="'always'">
              <mat-label>Username</mat-label>
              <input
                matInput
                placeholder="username"
                formControlName="username" />
              <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
            </mat-form-field>
            <mat-form-field appearance="fill" [floatLabel]="'always'">
              <mat-label>Password</mat-label>
              <input
                matInput
                placeholder="password"
                formControlName="password"
                [type]="passwordVisibility ? 'text' : 'password'" />
              <button
                mat-icon-button
                matSuffix
                type="button"
                (click)="passwordVisibility = !passwordVisibility"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="passwordVisibility">
                <mat-icon>{{
                  passwordVisibility ? 'visibility' : 'visibility_off'
                }}</mat-icon>
              </button>
            </mat-form-field>
            <button
              [disabled]="!form.valid || isLoading"
              mat-button
              type="submit"
              mat-raised-button
              color="primary">
              Login
            </button>
          </form>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</main>
